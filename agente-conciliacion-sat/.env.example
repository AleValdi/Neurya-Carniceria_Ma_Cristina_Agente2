# ===========================================
# CONFIGURACION DEL AGENTE DE CONCILIACION
# ===========================================
# Copiar este archivo como .env y configurar los valores

# --- Base de Datos SAV7 (SQL Server) ---
#
# Configuracion para correr en el servidor (local):
# DB_SERVER=localhost
# DB_DRIVER={SQL Server Native Client 11.0}
#
# Configuracion para correr remotamente via Tailscale:
DB_SERVER=100.73.181.41
DB_DRIVER={ODBC Driver 17 for SQL Server}
# En Mac con Driver 18: DB_DRIVER={ODBC Driver 18 for SQL Server}
#
DB_PORT=1433
DB_DATABASE=DBSAV71A
DB_USERNAME=tu_usuario
DB_PASSWORD=tu_password
DB_TRUSTED_CONNECTION=false
DB_TIMEOUT=30

# --- Configuracion de Conciliacion ---
# Tolerancia para diferencias de monto (porcentaje)
TOLERANCIA_MONTO=2.0

# Dias de rango para buscar remisiones
DIAS_RANGO_BUSQUEDA=3

# Dias para alertar desfase de fechas
DIAS_ALERTA_DESFASE=7

# Umbral de similitud para matching de texto (0-100)
UMBRAL_SIMILITUD=80

# --- Logging ---
LOG_LEVEL=INFO

# --- Adjuntos CFDI ---
# Directorio donde se guardan los archivos XML y PDF de las facturas
CFDI_ADJUNTOS_DIR=\\SERVERMC\Asesoft\SAV7-1\Recepciones CFDI

# Habilitar/deshabilitar adjuntar archivos (true/false)
CFDI_ADJUNTOS_HABILITADO=true

# Generar PDF desde XML si no existe (requiere satcfdi)
CFDI_GENERAR_PDF=true

# --- Tablas de SAV7 ---
SAV7_TABLA_REMISIONES=SAVRecC
SAV7_TABLA_DETALLE=SAVRecD
SAV7_TABLA_PROVEEDORES=SAVProveedor

# ===========================================
# DESCARGA AUTOMATICA DEL SAT (REQUIERE FIEL)
# ===========================================
# Para descargar facturas automaticamente del SAT,
# necesitas proporcionar la FIEL del contribuyente:
#
# FIEL_CER_PATH=C:/ruta/a/tu/certificado.cer
# FIEL_KEY_PATH=C:/ruta/a/tu/llave.key
# FIEL_PASSWORD=tu_contrasena_de_la_llave
#
# Dias hacia atras para descargar del SAT (default: 3)
# Cubre el delay de 72h del SAT entre timbrado y disponibilidad
# DIAS_DESCARGA_SAT=3
#
# IMPORTANTE: La FIEL es informacion sensible.
# No compartas estos archivos ni este archivo .env

# ===========================================
# INTEGRACION CON AGENTE 3
# ===========================================
# Copiar XMLs sin remision (Ingreso/Egreso) a la carpeta de entrada del Agente 3
# Dejar vacio para deshabilitar
# AGENTE3_XML_ENTRADA_DIR=C:\Tools\Agente3\data\xml_entrada
